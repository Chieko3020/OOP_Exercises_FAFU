/* 
������������������������ݵ�3�����ͣ������Ƕ������ֵ���ݣ����ÿ������캯���Ĺ��̣���
���ݳ���ִ�н�� ˵�������ִ�й��̲����ͳ��������˳��
*/

#include <iostream>
using namespace std;
class MyClass{
	int val;
public:
	MyClass(int i){ 
		val=i;
		cout<<"���캯��value="<<val<<endl;
	}

	int getval(){return val;}

	~MyClass() { cout<<"**��������"<<endl;}
	
	MyClass MkBigger(){
		MyClass o(val*2);   //��������
		return o;           //�ֲ���������ʱ�����ƹ���
	}
};

void display(MyClass  ob){     //ֵ���ݣ�����1�θ��ƹ���
    cout<<"val="<<ob.getval()<<endl;
}
/*��˷�⣺**********�вι��캯���������������б�����ʱ�������ʾ********** */
/*��˷�⣺**********gcc 13.2.0 RVO����ֵ�Ż�ʹ�ú������ض���ʱ���ٵ��ÿ������캯��********** */
int main(){
	MyClass a(10);	//��������
	cout<<"����display()֮ǰ.\n";
	display(a);			//��˷�⣺һ�������������һ�������������
	//��˷�⣺ֵ���ݶ���ʱ����һ�ο����������ʱ����ob��������ob�����ͷ�  
	cout<<endl;
	a=a.MkBigger();		//��˷�⣺һ����������죬һ�������������
	//��˷�⣺����Ϊa.val*2���вι������o
	//��˷�⣺�������غ󣬶���o�ڸ�ֵ��ɺ������ͷ�
	cout<<"����MkBigger()֮��.\n";
    display(a);			//��˷�⣺һ�������������һ�������������
	//��˷�⣺ֵ���ݶ���ʱ����һ�ο����������ʱ����ob��������ob�����ͷ�
    cout<<"��2�ε���display()֮��.\n";
    
return 0;
}
	//��˷�⣺main��������������a����
